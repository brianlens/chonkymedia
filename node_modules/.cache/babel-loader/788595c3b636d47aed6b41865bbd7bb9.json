{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar react_images_1 = __importStar(require(\"react-images\"));\n\nvar react_photo_collage_component_1 = require(\"./react-photo-collage-component\");\n\nvar createPhotoIds = function (photos) {\n  return photos.map(function (data, i) {\n    return __assign(__assign({}, data), {\n      id: i\n    });\n  });\n};\n\nvar createLayoutPhotoMaps = function (layout, photos) {\n  var newPhotos = createPhotoIds(photos);\n  var newMaps = {};\n  layout.reduce(function (accumulator, currentValue, currentIndex) {\n    newMaps[currentIndex] = newPhotos.slice(accumulator, accumulator + currentValue);\n    return accumulator + currentValue;\n  }, 0);\n  return newMaps;\n};\n\nvar checkProps = function (props) {\n  var defaultProps = {\n    width: '800px',\n    height: new Array(props.layout.length),\n    layout: [],\n    photos: [],\n    showNumOfRemainingPhotos: false\n  };\n\n  var newProps = __assign(__assign({}, defaultProps), props);\n\n  if (newProps.height.length < newProps.layout.length) {\n    for (var i = 0; i < newProps.layout.length; i++) {\n      newProps.height[i] = '200px';\n    }\n  }\n\n  return newProps;\n};\n\nvar ReactPhotoCollageContainer = function (props) {\n  var currProps = react_1.useMemo(function () {\n    return checkProps(props);\n  }, [props]);\n  var width = currProps.width,\n      height = currProps.height,\n      layout = currProps.layout,\n      photos = currProps.photos,\n      showNumOfRemainingPhotos = currProps.showNumOfRemainingPhotos;\n  var layoutNum = layout.reduce(function (accumulator, currentValue) {\n    return accumulator + currentValue;\n  }, 0);\n  var remainingNum = photos.length - layoutNum;\n\n  var _a = react_1.useState(false),\n      allowRender = _a[0],\n      setAllowRender = _a[1];\n\n  var _b = react_1.useState({}),\n      layoutPhotoMaps = _b[0],\n      setLayoutPhotoMaps = _b[1];\n\n  var _c = react_1.useState(false),\n      viewerIsOpen = _c[0],\n      setViewerIsOpen = _c[1];\n\n  var _d = react_1.useState(0),\n      currentImage = _d[0],\n      setCurrentImage = _d[1];\n\n  react_1.useEffect(function () {\n    setLayoutPhotoMaps(createLayoutPhotoMaps(layout, photos));\n  }, []);\n  react_1.useEffect(function () {\n    Object.keys(layoutPhotoMaps).length ? setAllowRender(true) : setAllowRender(false);\n  }, [layoutPhotoMaps]);\n  var openLightbox = react_1.useCallback(function (id) {\n    setCurrentImage(parseInt(id));\n    setViewerIsOpen(true);\n  }, []);\n  var closeLightbox = react_1.useCallback(function () {\n    setCurrentImage(0);\n    setViewerIsOpen(false);\n  }, []);\n\n  if (allowRender) {\n    return react_1.default.createElement(react_1.default.Fragment, null, react_1.default.createElement(react_photo_collage_component_1.ReactPhotoCollageComponent, {\n      width: width,\n      height: height,\n      layout: layout,\n      layoutPhotoMaps: layoutPhotoMaps,\n      layoutNum: layoutNum,\n      remainingNum: remainingNum,\n      showNumOfRemainingPhotos: showNumOfRemainingPhotos,\n      openLightbox: openLightbox\n    }), react_1.default.createElement(react_images_1.ModalGateway, null, viewerIsOpen ? react_1.default.createElement(react_images_1.Modal, {\n      onClose: closeLightbox\n    }, react_1.default.createElement(react_images_1.default, {\n      views: photos,\n      currentIndex: currentImage\n    })) : null));\n  }\n\n  return null;\n};\n\nexports.default = ReactPhotoCollageContainer;","map":{"version":3,"mappings":"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","names":["createPhotoIds","photos","map","data","i","id","createLayoutPhotoMaps","layout","newPhotos","newMaps","reduce","accumulator","currentValue","currentIndex","slice","checkProps","props","defaultProps","width","height","Array","length","showNumOfRemainingPhotos","newProps","ReactPhotoCollageContainer","currProps","react_1","layoutNum","remainingNum","allowRender","setAllowRender","layoutPhotoMaps","setLayoutPhotoMaps","viewerIsOpen","setViewerIsOpen","currentImage","setCurrentImage","Object","keys","openLightbox","parseInt","closeLightbox","Fragment","react_photo_collage_component_1","react_images_1","onClose","views","exports"],"sources":["/Users/brian/Documents/Chonky Media /Website/chonkymedia/chonkymedia/node_modules/react-photo-collage/src/react-photo-collage/react-photo-collage-container.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState, useCallback, useMemo } from 'react';\r\nimport Carousel, { Modal, ModalGateway } from \"react-images\";\r\n\r\nimport {\r\n    ReactPhotoCollageComponent,\r\n} from './react-photo-collage-component';\r\n\r\nconst createPhotoIds = (photos) => {\r\n    return photos.map((data, i) => {\r\n        return { ...data, id: i }\r\n    });\r\n}\r\nconst createLayoutPhotoMaps = (layout, photos) => {\r\n    const newPhotos = createPhotoIds(photos);\r\n    const newMaps = {};\r\n    layout.reduce((accumulator, currentValue, currentIndex) => {\r\n        newMaps[currentIndex] = newPhotos.slice(accumulator, accumulator + currentValue);\r\n        return accumulator + currentValue;\r\n    }, 0);\r\n\r\n    return newMaps;\r\n\r\n}\r\n\r\ninterface ReactPhotoCollageContainerProps {\r\n    width?: string;\r\n    height?: Array<string>;\r\n    layout: Array<number>;\r\n    photos: Array<{ source: string }>;\r\n    showNumOfRemainingPhotos?: boolean\r\n}\r\nconst checkProps = (props: ReactPhotoCollageContainerProps) => {\r\n    const defaultProps = {\r\n        width: '800px',\r\n        height: new Array(props.layout.length),\r\n        layout: [],\r\n        photos: [],\r\n        showNumOfRemainingPhotos: false\r\n    }\r\n    const newProps = { ...defaultProps, ...props };\r\n    if (newProps.height.length < newProps.layout.length) {\r\n        for (let i = 0; i < newProps.layout.length; i++) {\r\n            newProps.height[i] = '200px';\r\n        }\r\n    }\r\n    return newProps;\r\n}\r\nconst ReactPhotoCollageContainer: React.FC<ReactPhotoCollageContainerProps> = (props) => {\r\n    const currProps = useMemo(() => checkProps(props), [props]);\r\n    const { width, height, layout, photos, showNumOfRemainingPhotos } = currProps;\r\n    const layoutNum = layout.reduce((accumulator, currentValue) => accumulator + currentValue, 0);\r\n    const remainingNum = photos.length - layoutNum;\r\n    const [allowRender, setAllowRender] = useState<boolean>(false);\r\n    const [layoutPhotoMaps, setLayoutPhotoMaps] = useState<any>({});\r\n    const [viewerIsOpen, setViewerIsOpen] = useState<boolean>(false);\r\n    const [currentImage, setCurrentImage] = useState<number>(0);\r\n\r\n    useEffect(() => {\r\n        setLayoutPhotoMaps(createLayoutPhotoMaps(layout, photos));\r\n    }, []);\r\n    useEffect(() => {\r\n        Object.keys(layoutPhotoMaps).length ? setAllowRender(true) : setAllowRender(false);\r\n    }, [layoutPhotoMaps]);\r\n\r\n    const openLightbox = useCallback((id) => {\r\n        setCurrentImage(parseInt(id));\r\n        setViewerIsOpen(true);\r\n    }, []);\r\n    const closeLightbox = useCallback(() => {\r\n        setCurrentImage(0);\r\n        setViewerIsOpen(false);\r\n    }, []);\r\n\r\n    if (allowRender) {\r\n        return (\r\n            <React.Fragment>\r\n                <ReactPhotoCollageComponent\r\n                    width={width}\r\n                    height={height}\r\n                    layout={layout}\r\n                    layoutPhotoMaps={layoutPhotoMaps}\r\n                    layoutNum={layoutNum}\r\n                    remainingNum={remainingNum}\r\n                    showNumOfRemainingPhotos={showNumOfRemainingPhotos}\r\n                    openLightbox={openLightbox}\r\n                />\r\n                <ModalGateway>\r\n                    {\r\n                        viewerIsOpen ?\r\n                            (\r\n                                <Modal onClose={closeLightbox}>\r\n                                    <Carousel views={photos} currentIndex={currentImage} />\r\n                                </Modal>\r\n                            ) : null\r\n                    }\r\n                </ModalGateway>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport default ReactPhotoCollageContainer;"]},"metadata":{},"sourceType":"script"}